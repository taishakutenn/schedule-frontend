# Описание
Файл: `src\components\Sidebar\Sidebar.jsx`
Компонент `Sidebar` представляет собой интерактивную боковую панель, которая может открываться/закрываться и отображать либо произвольное содержимое (через `children`), либо набор вкладок с соответствующими контентами. Компонент реализует гибкий пользовательский интерфейс, позволяющий управлять отображением информации в зависимости от переданных пропсов. Также реализована возможность изменения ширины сайдбара с помощью ресайзера.

# Пропсы
## Опциональные
### title
Заголовок. по умолчанию `Сайдбар`
### children 
Содержимое сайдбара, если не используются вкладки (`tabs`). Отображается внутри блока `.content`
### tabs
Массив объектов, представляющих вкладки. Каждый объект может содержать:
- `label`: Текст на кнопке вкладки.
- `content`: Содержимое, которое будет отображаться при активной вкладке.

# Переменные 
## isOpen
Определяет, открыт ли сайдбар в данный момент. Изначально `false`.
## activeTab
Индекс активной вкладки. Изначально `0`.
## width
Ширина сайдбара. По умолчанию `"20%"`.
## sidebarRef
Ссылка на основной элемент сайдбара.
## resizerRef
Ссылка на элемент ресайзера.
## isResizing
Состояние процесса изменения размера, хранится в useRef.

# Функции
## toggleSidebar
- **Назначение**: Переключает состояние открытия/закрытия сайдбара.
- **Логика**: Инвертирует текущее значение состояния `isOpen` с помощью `setIsOpen(!isOpen)`.
- **Вызов**: При клике по кнопке с крестиком (`.close-btn`) или по кнопке открытия (`.toggle-btn`).

## setActiveTab
- **Назначение**: Устанавливает активную вкладку по индексу.
- **Логика**: Вызывается при клике на кнопку вкладки (`.tab-button`) и устанавливает индекс активной вкладки с помощью `setActiveTab(index)`.

## startResizing
- **Назначение**: Начинает процесс изменения размера сайдбара.
- **Логика**: Устанавливает флаг `isResizing.current` в `true` и отключает выделение текста на странице.
- **Вызов**: При нажатии на элемент ресайзера (`.resizer`).

## handleMouseMove
- **Назначение**: Обрабатывает перемещение мыши во время изменения размера.
- **Логика**: Вычисляет новую ширину сайдбара на основе положения курсора, минимальная ширина 200px.
- **Вызов**: При движении мыши во время изменения размера.

## handleMouseUp
- **Назначение**: Завершает процесс изменения размера.
- **Логика**: Сбрасывает флаг `isResizing.current` и восстанавливает возможность выделения текста.
- **Вызов**: При отпускании кнопки мыши после изменения размера.

# Хуки
## useState
### const [isOpen, setIsOpen] = useState(false);
- `isOpen`: Булевое значение, указывающее, открыт ли сайдбар.
- `setIsOpen`: Функция для обновления состояния `isOpen`.
- Инициализируется значением `false`, то есть сайдбар изначально закрыт.

### const [activeTab, setActiveTab] = useState(0);
- `activeTab`: Числовое значение, представляющее индекс активной вкладки.
- `setActiveTab`: Функция для обновления состояния `activeTab`.
- Инициализируется значением `0`, то есть первая вкладка активна по умолчанию.

### const [width, setWidth] = useState("20%");
- `width`: Значение ширины сайдбара.
- `setWidth`: Функция для обновления ширины сайдбара.
- Инициализируется значением `"20%"`.

## useRef
### const sidebarRef = useRef(null);
- Ссылка на основной DOM-элемент сайдбара для доступа к нему напрямую.

### const resizerRef = useRef(null);
- Ссылка на элемент ресайзера для обработки событий изменения размера.

### const isResizing = useRef(false);
- Ссылка для отслеживания состояния изменения размера вне рендера компонента.

## useEffect
- **Назначение**: Настройка глобальных обработчиков событий мыши для изменения размера сайдбара.
- **Логика**: Добавляет обработчики `mousemove` и `mouseup` к документу для отслеживания движения мыши во время изменения размера и корректной очистки при размонтировании компонента.

# Базовая структура
## Общая разметка
Компонент состоит из четырех основных частей:
1. **Основной сайдбар** (`.sidebar`) с возможностью изменения ширины.
2. **Список вертикальных вкладок** (`.tab-list-vertical`), который отображается только при наличии вкладок.
3. **Кнопка открытия** (`.toggle-btn`), которая появляется, когда сайдбар закрыт.
4. **Элемент ресайзера** (`.resizer`), позволяющий изменять ширину сайдбара.

### Структура основного сайдбара
```jsx
<div
  ref={sidebarRef}
  className={`sidebar ${isOpen ? "open" : "closed"}`}
  style={{ width }}
>
  <div className="sidebar-header">
    <h3>{title}</h3>
    <button className="close-btn" onClick={toggleSidebar}>×</button>
  </div>
  {tabs.length > 0 ? (
    <div className="tab-content">{tabs[activeTab]?.content}</div>
  ) : (
    <div className="content">{children}</div>
  )}
  <div ref={resizerRef} className="resizer" onMouseDown={startResizing} />
</div>
```
- **`.sidebar`**: Контейнер всего сайдбара. Класс `open` или `closed` управляет видимостью. Ширина задается через инлайн-стиль.
- **`.sidebar-header`**: Шапка сайдбара с заголовком и кнопкой закрытия.
- **Условный рендеринг**:
    - Если `tabs` не пустой, отображается активное содержимое вкладки (`.tab-content`).
    - Иначе — содержимое из `children` (`.content`).
- **`.resizer`**: Элемент, позволяющий изменять ширину сайдбара при нажатии и перетаскивании.

### Структура списка вкладок
```jsx
{tabs.length > 0 && isOpen && (
  <div className="tab-list-vertical" style={{ right: width }}>
    {tabs.map((tab, index) => (
      <button
        key={index}
        className={`tab-button ${activeTab === index ? "active" : ""}`}
        onClick={() => setActiveTab(index)}
      >
        {tab.label}
      </button>
    ))}
  </div>
)}
```
- **`.tab-list-vertical`**: Контейнер для кнопок вкладок, отображается только когда сайдбар открыт.
- **Кнопки вкладок** (`.tab-button`): Рендерятся через `map`, активная вкладка помечена классом `active`.
- Правый отступ задается через инлайн-стиль, чтобы вкладки были правильно позиционированы относительно сайдбара.

### Кнопка открытия
```jsx
{!isOpen && (
  <button className="toggle-btn" onClick={toggleSidebar}>«</button>
)}
```
- Появляется только тогда, когда сайдбар закрыт (`isOpen === false`).
- При клике вызывает `toggleSidebar`.

# Пример использования
## Без вкладок
```jsx
import Sidebar from './Sidebar';

const App = () => {
  return (
    <div>
      <Sidebar title="Мои настройки">
        <p>Это содержимое сайдбара без вкладок.</p>
        <ul>
          <li>Пункт 1</li>
          <li>Пункт 2</li>
        </ul>
      </Sidebar>
    </div>
  );
};
```
- **Результат**: Сайдбар отображает заголовок "Мои настройки" и содержимое из `children`.
- Вкладки не отображаются, так как массив `tabs` пустой (по умолчанию `[]`).

## С вкладками
```jsx
import Sidebar from './Sidebar';

const App = () => {
  const tabs = [
    {
      label: "Главная",
      content: <div><h4>Добро пожаловать!</h4><p>Это главная вкладка.</p></div>
    },
    {
      label: "Настройки",
      content: <div><h4>Настройки приложения</h4><p>Здесь можно всё настроить.</p></div>
    },
    {
      label: "О нас",
      content: <div><h4>Информация о проекте</h4><p>Мы команда разработчиков.</p></div>
    }
  ];

  return (
    <div>
      <Sidebar title="Навигация" tabs={tabs} />
    </div>
  );
};
```
- **Результат**: Сайдбар с заголовком "Навигация" и вертикальным списком вкладок.
- При выборе вкладки отображается соответствующий `content`.

## Смешанный
```jsx
import Sidebar from './Sidebar';

const App = () => {
  const tabs = [
    {
      label: "Вкладка 1",
      content: <div>Содержимое первой вкладки</div>
    }
  ];

  return (
    <div>
      <Sidebar title="Смешанный пример" tabs={tabs}>
        <p>Это будет проигнорировано, так как tabs определены.</p>
      </Sidebar>
    </div>
  );
};
```
- **Результат**: Отображаются только вкладки, `children` игнорируются, так как `tabs.length > 0`.