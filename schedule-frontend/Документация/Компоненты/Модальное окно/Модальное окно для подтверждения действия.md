# Описание
Файл: `src\components\Modal\ConfirmModal.jsx`
Компонент ConfirmationModal представляет собой модальное окно подтверждения действия (обычно удаления)
# Пропсы
## Обязательные
### isOpen
![[Модальное окно#isOpen]]
### onClose
![[Модальное окно#onClose]]
### onConfirm
Функция обратного вызова для подтверждения действия (обычно удаления).
## Опциональные
### title
![[Модальное окно#title]]
### rowData
Данные строки, используемые для формирования сообщения подтверждения. По умолчанию `null`.
### displayFields
Массив полей из `rowData`, значения которых будут использованы в сообщении подтверждения. По умолчанию пустой массив `[]`.
### confirmText
Текст кнопки подтверждения. По умолчанию "Удалить".
### cancelText
Текст кнопки отмены. По умолчанию "Отменить".
### loading
Индикатор состояния загрузки. Блокирует взаимодействие с кнопками и изменяет текст кнопки отмены. По умолчанию `false`.
# Переменные
## Вспомогательные переменные:
- **`fieldParts`** - Массив значений полей, полученных из `rowData` по ключам, указанным в `displayFields`. Используется для формирования текста сообщения подтверждения. Значения, равные `null` или `undefined`, заменяются на "N/A".
## Переменные состояния:
- Нет внутреннего состояния - компонент полностью контролируется через пропсы.
## Вспомогательные переменные в функциях:
- **`value`** - Текущее значение поля из `rowData`, используется внутри метода `map` при формировании `fieldParts`.
## Локальные переменные:
- **`message`** - Результирующая строка сообщения подтверждения, возвращаемая функцией `getMessage()`. Формируется либо как стандартное сообщение, либо как составное сообщение с использованием значений из `rowData`.
## Переменные конфигурации:
- **`confirmText`** - Текст для кнопки подтверждения действия.
- **`cancelText`** - Текст для кнопки отмены действия.
- **`title`** - Заголовок модального окна.
- **`loading`** - Состояние загрузки, влияющее на доступность кнопок и их текст.
# Функции
## getMessage()
Функция для генерации текста сообщения подтверждения. Проверяет наличие `rowData` и `displayFields`, формирует составное сообщение с использованием значений из указанных полей или возвращает стандартное сообщение. Возвращает строку с текстом вопроса подтверждения.
## handleConfirm()
Обработчик клика по кнопке подтверждения. Вызывает внешнюю функцию `onConfirm`, переданную через пропсы, для выполнения подтвержденного действия (обычно удаления).
# Базовая структура
## Внешняя обертка:
- **Модальное окно** - использует компонент [[Модальное окно|Modal]] с заголовком и средним размером (`size="md"`)
## Внутреннее содержимое:
- **Контейнер подтверждения** - div с классом `confirmation-modal-body`
### Текстовое сообщение:
- **Параграф** - элемент `<p>`, содержащий сгенерированное сообщение подтверждения, полученное из функции `getMessage()`
### Кнопки действий:
- **Контейнер кнопок** - div с классом `confirmation-modal-actions`, содержащий две кнопки:
    - **Кнопка отмены** - компонент `Button` с:
        - `variant="secondary"` - второстепенный стиль
        - `size="small"` - маленький размер
        - обработчиком `onClick={onClose}`
        - текстом, зависящим от состояния загрузки ("Удаление..." или `cancelText`)
    - **Кнопка подтверждения** - компонент `Button` с:
        - `variant="danger"` - опасный стиль (обычно красный)
        - `size="small"` - маленький размер
        - обработчиком `onClick={handleConfirm}`
        - текстом `confirmText`
## Особенности:
- Кнопки могут быть заблокированы при состоянии `loading`
- Текст сообщения адаптируется в зависимости от наличия `rowData` и `displayFields`
- Компонент полностью контролируется через пропсы без внутреннего состояния